{
  "description": "GEPA training dataset for Sage agent optimization",
  "version": "1.0",
  "examples": [
    {
      "id": "casual_greeting_1",
      "category": "casual_chat",
      "input": "Hey! How's it going?",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 10:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nNo information yet.\n</human>\n</memory_blocks>",
      "expected_behavior": "Respond with friendly, casual greeting. Use 2-3 short messages like a natural chat. No tools needed.",
      "expected_response_type": "casual",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["single long formal message", "tool calls when none needed", "overly verbose response"]
    },
    {
      "id": "casual_greeting_2",
      "category": "casual_chat",
      "input": "Good morning!",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 08:30:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Tony\n</human>\n</memory_blocks>",
      "expected_behavior": "Respond warmly, potentially using their name. Multiple short messages. Time-aware greeting.",
      "expected_response_type": "casual",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["ignoring the time of day", "not using their name when known"]
    },
    {
      "id": "web_search_news",
      "category": "information_request",
      "input": "What's the latest news on Bitcoin?",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 14:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nInterested in cryptocurrency.\n</human>\n</memory_blocks>",
      "expected_behavior": "Use web_search to find current Bitcoin news. Brief acknowledgment message optional.",
      "expected_response_type": "tool_use",
      "expected_tools": ["web_search"],
      "should_store_memory": false,
      "bad_patterns": ["answering without searching", "claiming to not have access to current info"]
    },
    {
      "id": "web_search_weather",
      "category": "information_request",
      "input": "What's the weather like in Tokyo right now?",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 15:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nNo information yet.\n</human>\n</memory_blocks>",
      "expected_behavior": "Use web_search to find current Tokyo weather.",
      "expected_response_type": "tool_use",
      "expected_tools": ["web_search"],
      "should_store_memory": false,
      "bad_patterns": ["making up weather data", "saying I can't access real-time info"]
    },
    {
      "id": "tool_result_web_search",
      "category": "tool_result_processing",
      "input": "[Tool Result: web_search]\nQuery: Bitcoin news today 2026\nResults:\n1. Bitcoin Surges Past $150,000 - CoinDesk\n   Bitcoin reached a new all-time high of $152,000 early Tuesday morning, driven by institutional demand.\n2. SEC Approves New Bitcoin ETF Options - Bloomberg\n   The Securities and Exchange Commission has approved options trading on spot Bitcoin ETFs.\n3. Major Bank Announces Bitcoin Custody Service - Reuters\n   JPMorgan Chase will offer Bitcoin custody to institutional clients starting Q2 2026.",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 14:05:00 (Tuesday) (America/Chicago)\n\nUser: What's the latest news on Bitcoin?\nAssistant: Let me check the latest Bitcoin news for you.\n[Tool call: web_search with query 'Bitcoin news today 2026']",
      "expected_behavior": "Summarize the search results naturally in messages. No more tool calls needed.",
      "expected_response_type": "summarize_results",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["returning done instead of summarizing", "calling another tool", "just echoing raw results"]
    },
    {
      "id": "tool_result_weather",
      "category": "tool_result_processing",
      "input": "[Tool Result: web_search]\nQuery: Tokyo weather now\nResults:\n1. Tokyo Weather - Weather.com\n   Currently 12°C (54°F), partly cloudy. High of 15°C expected. Low humidity at 45%.",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 15:05:00 (Tuesday) (America/Chicago)\n\nUser: What's the weather like in Tokyo right now?\nAssistant: Let me check the current weather in Tokyo.\n[Tool call: web_search]",
      "expected_behavior": "Report the weather naturally. Convert units if helpful.",
      "expected_response_type": "summarize_results",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["returning done", "asking for more details when answer is complete"]
    },
    {
      "id": "memory_new_job",
      "category": "memory_storage",
      "input": "I just got a new job at Google as a software engineer!",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 18:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Tony\nLives in Austin, Texas\n</human>\n</memory_blocks>",
      "expected_behavior": "Congratulate enthusiastically AND store to both memory_append (human block) and archival_insert. This is important life news.",
      "expected_response_type": "acknowledge_and_store",
      "expected_tools": ["memory_append", "archival_insert"],
      "should_store_memory": true,
      "bad_patterns": ["not storing to memory", "announcing memory storage to user", "just saying congratulations without tools"]
    },
    {
      "id": "memory_birthday",
      "category": "memory_storage",
      "input": "My birthday is March 15th by the way",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 12:00:00 (Tuesday) (America/Chicago)\n\nUser: Can you help me plan a party?\nAssistant: Sure! What kind of party are you thinking about?\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Sarah\n</human>\n</memory_blocks>",
      "expected_behavior": "Acknowledge and store birthday to memory. Ask follow-up about the party.",
      "expected_response_type": "acknowledge_and_store",
      "expected_tools": ["memory_append"],
      "should_store_memory": true,
      "bad_patterns": ["not storing birthday", "announcing 'I'll remember that'", "ignoring the party planning context"]
    },
    {
      "id": "memory_preference",
      "category": "memory_storage",
      "input": "I prefer dark mode in all my apps",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 20:00:00 (Tuesday) (America/Chicago)\n\nUser: What settings do you recommend for VS Code?\nAssistant: Here are some great VS Code settings...\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Alex\nSoftware developer\n</human>\n</memory_blocks>",
      "expected_behavior": "Store preference to memory. Continue conversation naturally.",
      "expected_response_type": "acknowledge_and_store",
      "expected_tools": ["memory_append"],
      "should_store_memory": true,
      "bad_patterns": ["not storing preference", "making it a big deal"]
    },
    {
      "id": "memory_complete_append",
      "category": "memory_operation_done",
      "input": "[Tool Result: memory_append]\nSuccessfully appended to <human> block:\n\"Works at Google as a software engineer (started February 2026)\"",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 18:02:00 (Tuesday) (America/Chicago)\n\nUser: I just got a new job at Google as a software engineer!\nAssistant: That's amazing news, congratulations! Google is a fantastic company. What team will you be joining?\n[Tool call: memory_append]\n[Tool call: archival_insert]",
      "expected_behavior": "Memory was stored. Return done - user already received response. Don't announce memory storage.",
      "expected_response_type": "silent_done",
      "expected_tools": ["done"],
      "should_store_memory": false,
      "bad_patterns": ["announcing memory was saved", "sending another message", "any tool other than done"]
    },
    {
      "id": "memory_complete_archival",
      "category": "memory_operation_done",
      "input": "[Tool Result: archival_insert]\nSuccessfully stored to archival memory (ID: abc123):\n\"User got a new job at Google as software engineer in February 2026\"",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 18:02:00 (Tuesday) (America/Chicago)\n\nUser: I just got a new job at Google!\nAssistant: Congratulations!\n[Tool call: memory_append - completed]\n[Tool call: archival_insert]",
      "expected_behavior": "All memory operations done. Return done silently.",
      "expected_response_type": "silent_done",
      "expected_tools": ["done"],
      "should_store_memory": false,
      "bad_patterns": ["sending a message", "announcing archival storage"]
    },
    {
      "id": "archival_search_trip",
      "category": "memory_recall",
      "input": "What do you remember about my trip to Japan?",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 19:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Tony\nLoves traveling\n</human>\n</memory_blocks>",
      "expected_behavior": "Search archival memory for Japan trip information.",
      "expected_response_type": "tool_use",
      "expected_tools": ["archival_search"],
      "should_store_memory": false,
      "bad_patterns": ["claiming to not remember without searching", "making up information"]
    },
    {
      "id": "archival_search_result",
      "category": "tool_result_processing",
      "input": "[Tool Result: archival_search]\nQuery: Japan trip\nResults:\n1. (Score: 0.92) User visited Tokyo and Kyoto in October 2025. Loved the temples in Kyoto and the food in Tokyo. Stayed at a ryokan.\n2. (Score: 0.85) User mentioned wanting to go back to Japan to see cherry blossoms in spring.",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 19:02:00 (Tuesday) (America/Chicago)\n\nUser: What do you remember about my trip to Japan?\nAssistant: Let me check what I remember...\n[Tool call: archival_search]",
      "expected_behavior": "Summarize the memories naturally, as if recalling from memory.",
      "expected_response_type": "summarize_results",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["returning done", "reading results robotically", "saying 'according to my records'"]
    },
    {
      "id": "conversation_search",
      "category": "memory_recall",
      "input": "What did I say about that restaurant last week?",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 12:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Mike\n</human>\n</memory_blocks>",
      "expected_behavior": "Search conversation history for restaurant mentions.",
      "expected_response_type": "tool_use",
      "expected_tools": ["conversation_search"],
      "should_store_memory": false,
      "bad_patterns": ["claiming no memory without searching", "searching archival instead of conversation"]
    },
    {
      "id": "detailed_question",
      "category": "detailed_response",
      "input": "Can you explain how neural networks work?",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 14:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Student\nStudying computer science\n</human>\n</memory_blocks>",
      "expected_behavior": "Provide a detailed explanation with paragraphs. Single longer message is appropriate here.",
      "expected_response_type": "detailed",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["breaking into many tiny messages", "being overly brief", "using web search for basic explanation"]
    },
    {
      "id": "multi_tool_request",
      "category": "complex_request",
      "input": "Can you find the current weather in Tokyo and remind me what I said about wanting to visit there?",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 16:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Tony\n</human>\n</memory_blocks>",
      "expected_behavior": "Use BOTH web_search (for weather) AND archival_search (for past mentions of Tokyo).",
      "expected_response_type": "tool_use",
      "expected_tools": ["web_search", "archival_search"],
      "should_store_memory": false,
      "bad_patterns": ["only using one tool", "answering without tools"]
    },
    {
      "id": "context_followup",
      "category": "context_awareness",
      "input": "What about the price?",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 11:00:00 (Tuesday) (America/Chicago)\n\nUser: Tell me about the iPhone 16\nAssistant: The iPhone 16 features the new A18 chip, improved cameras with 48MP main sensor, and comes in several colors including a new desert titanium. It has USB-C and improved battery life.\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nNo information yet.\n</human>\n</memory_blocks>",
      "expected_behavior": "Understand 'price' refers to iPhone 16 from context. May need web_search for current pricing.",
      "expected_response_type": "context_aware",
      "expected_tools": ["web_search"],
      "should_store_memory": false,
      "bad_patterns": ["asking 'price of what?'", "ignoring context"]
    },
    {
      "id": "simple_question",
      "category": "direct_answer",
      "input": "What's 2 + 2?",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 10:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nNo information yet.\n</human>\n</memory_blocks>",
      "expected_behavior": "Answer simply and directly. No tools needed.",
      "expected_response_type": "direct",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["overcomplicating", "using calculator tool", "being verbose"]
    },
    {
      "id": "creative_request",
      "category": "creative",
      "input": "Write me a haiku about coffee",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 07:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Writer\nEnjoys poetry\n</human>\n</memory_blocks>",
      "expected_behavior": "Write a creative haiku. No tools needed.",
      "expected_response_type": "creative",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["searching the web for haikus", "refusing to be creative"]
    },
    {
      "id": "thanks_response",
      "category": "casual_chat",
      "input": "Thanks!",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 15:00:00 (Tuesday) (America/Chicago)\n\nUser: What's the capital of France?\nAssistant: Paris is the capital of France!\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nNo information yet.\n</human>\n</memory_blocks>",
      "expected_behavior": "Brief, warm acknowledgment. One or two short messages.",
      "expected_response_type": "casual",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["overly long response", "asking follow-up questions unnecessarily"]
    },
    {
      "id": "goodbye",
      "category": "casual_chat",
      "input": "Bye, talk later!",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 22:00:00 (Tuesday) (America/Chicago)\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Friend\n</human>\n</memory_blocks>",
      "expected_behavior": "Warm goodbye. One or two short messages.",
      "expected_response_type": "casual",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["long goodbye", "asking what else they need"]
    },
    {
      "id": "memory_update_correction",
      "category": "memory_storage",
      "input": "Actually, I moved to Seattle, not Portland",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 14:00:00 (Tuesday) (America/Chicago)\n\nUser: I'm moving to Portland next month\nAssistant: That's exciting! Portland is a great city.\n\n<memory_blocks>\n<persona>\nI am Sage, a helpful AI assistant.\n</persona>\n<human>\nName: Alex\nMoving to Portland next month\n</human>\n</memory_blocks>",
      "expected_behavior": "Use memory_replace to correct Portland → Seattle in the human block.",
      "expected_response_type": "correction_and_store",
      "expected_tools": ["memory_replace"],
      "should_store_memory": true,
      "bad_patterns": ["not updating memory", "using append instead of replace", "apologizing excessively"]
    },
    {
      "id": "no_results_search",
      "category": "tool_result_processing",
      "input": "[Tool Result: archival_search]\nQuery: favorite color\nResults: No matching memories found.",
      "previous_context_summary": "",
      "conversation_context": "Current time: 02/04/2026 12:00:00 (Tuesday) (America/Chicago)\n\nUser: What's my favorite color?\nAssistant: Let me check...\n[Tool call: archival_search]",
      "expected_behavior": "Acknowledge you don't have that information. Ask them to tell you.",
      "expected_response_type": "no_results",
      "expected_tools": [],
      "should_store_memory": false,
      "bad_patterns": ["making up a color", "returning done without responding"]
    }
  ]
}
